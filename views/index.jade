extends layout

block content  
  
  div(data-role='page', data-theme='b', data-content-theme='b')
    div(data-role='header')
      a(data-icon='gear') #{username}
      h1= title
      a(href='/logout', class='ui-btn-right') Log out
    div(data-role='main', class='container')      
      h3 Your Tracks 
      
      div(class='ui-block-a', style='width:30%') 
        ul(id='tracks')
          // for testing only          
          each val in tracklist
            li
              a= val
    
      div(id='map', class='ui-block-b')
        p(id='mapinfo') No track to display

      fieldset(class='ui-block-a', style='width:100%')
        legend Track information
        h4 description
        table(class='ui-block-a', style='width:100%')
          tr
            th Duration
            th Distance
            th Average speed
          tr
            td 
            td 
            td 
    
      fieldset(class='ui-block-a', style='width:100%')
        legend Add new track
        form(action='/addtrack', method='post', enctype='multipart/form-data', data-ajax='false') 
          div(class='ui-block-a', style='width:100%') 
            input(type='text', name='description', placeholder='Track description...')
          div(class='ui-block-a', style='width:75%') 
            input(type='file', name='gpxfile', required)
          div(class='ui-block-b', style='width:25%')
            input(type='submit', value='Upload')
          
      script. 
        var points = !{trackpoints}
      script(src='/javascripts/map.js')
